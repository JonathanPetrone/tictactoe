<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic Tac Toe - GO with HTMX</title>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600&family=Roboto:wght@400;500&display=swap" rel="stylesheet">

    <!-- Include htmx library and tailwind -->
    <script src="https://unpkg.com/htmx.org@2.0.4"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="font-sans bg-slate-50">
    <header class="container mx-auto p-2 text-2xl">
        <h1 class="text-6xl font-extrabold text-emerald-600 pt-8 text-center">Tic<span class="text-sky-600"> Tac</span><span class="text-rose-600"> Toe</span></h1>
        <p class="mt-4 text-4xl text-stone-700 text-center mx-auto">It's {{.PlayerTurn}}'s turn to move</p>
    </header>
    <div id="dynamic-content" class="container mx-auto p-2">
        <div class="grid grid-cols-3 gap-4 p-4 mt-4 w-1/3 mx-auto">
            {{range $i, $row := .Board}}
                {{range $j, $cell := $row}}
                    <button
                        class="w-auto h-32 bg-slate-300 border-2 border-slate-600 text-6xl font-bold text-gray-700 hover:bg-white"
                        hx-post="/move?x={{$i}}&y={{$j}}"
                        hx-target="#dynamic-content"
                        hx-swap="outerHTML"
                    >
                        {{$cell}}
                    </button>
                {{end}}
            {{end}}
        </div>

        <!-- Status and Reset Bar -->
        <div class="mt-4 p-4 bg-gray-200 border-t-2 border-gray-300 flex justify-between items-center w-1/3 mx-auto">
            <!-- Status Message -->
            <p class="text-xl font-semibold text-gray-700" id="status-message">{{.GameStatus}}</p>

            <!-- Reset Button -->
            <button
                class="px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-700 focus:outline-none"
                id="reset-button"
                hx-post="/reset"
                hx-target="#dynamic-content"
                hx-swap="outerHTML"
            >
                Reset
            </button>
        </div>
    </div>
</body>
</html>